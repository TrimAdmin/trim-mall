// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// 管理员
model SysUser {
  id          Int      @id @unique @default(autoincrement())
  username    String   @unique
  password    String
  email       String?
  mobilePhone String?  @map("mobile_phone")
  nickname    String?
  avatarKey   String?  @default("2703e23c-ff34-4573-99fb-f86ab8296e25.avatar.jpg") @map("avatar_key")
  createTime  DateTime @default(now()) @map("create_time")
  updateTime  DateTime @default(now()) @updatedAt @map("update_time")

  @@map("sys_user")
}

// 行政区划-省
model AddProvince {
  code    String    @unique
  name    String
  AddCity AddCity[]

  @@map("add_province")
}

// 行政区划-市
model AddCity {
  code         String      @unique
  name         String
  province     AddProvince @relation(fields: [provinceCode], references: [code])
  provinceCode String
  AddArea      AddArea[]

  @@map("add_city")
}

// 行政区划-区/县
model AddArea {
  code         String      @unique
  name         String
  city         AddCity     @relation(fields: [cityCode], references: [code])
  cityCode     String
  provinceCode String
  AddStreet    AddStreet[]

  @@map("add_area")
}

// 行政区划-乡镇/街道
model AddStreet {
  code         String  @unique
  name         String
  area         AddArea @relation(fields: [areaCode], references: [code])
  areaCode     String
  provinceCode String
  cityCode     String

  @@map("add_street")
}
